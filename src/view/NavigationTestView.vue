<template>
  <div class="container py-5">
    
    <h1 class="text-center mb-4 fw-bold text-secondary">И Entorno de Prueba: Acciones de Navegaci贸n</h1>
    <p class="text-center lead text-muted mb-5">
      Este componente llama a m茅todos reales de <code class="bg-warning p-1 rounded">window.location</code>.
      <br>
      <strong>ATENCIN:</strong> El bot贸n "Recargar" reiniciar谩 la p谩gina. El bot贸n "Ir" te llevar谩 a una URL externa.
    </p>

    <!-- 1. El Componente de Herramientas de Navegaci贸n -->
    <NavigationTools />

    <!-- 2. Secci贸n de Diagn贸stico (Informaci贸n de la ubicaci贸n actual) -->
    <div class="mt-5 pt-4 border-top">
        <h4 class="text-primary mb-3">Diagn贸stico Actual (Desarrollo)</h4>
        <p class="small text-muted">
            La URL base es: <span class="fw-bold text-break">{{ currentUrl }}</span>.
            <br>
            Al hacer clic en "Recargar P谩gina", ver谩s una recarga completa del navegador.
        </p>
        <p class="small text-danger">
             Si est谩s en el entorno de pruebas unitarias (Vitest), el mock previene estas acciones. 
             Prueba este componente ejecutando la aplicaci贸n con `npm run dev`.
        </p>
    </div>

  </div>
</template>

<script lang="ts">
import { defineComponent, ref, onMounted } from 'vue';
import NavigationTools from '../components/NavigationTools.vue'; 

export default defineComponent({
  name: 'NavigationTestView',
  components: {
    NavigationTools, // Importamos el componente a probar
  },
  setup() {
    const currentUrl = ref('');

    onMounted(() => {
        // Obtenemos la URL actual para fines de diagn贸stico
        currentUrl.value = window.location.href;
    });

    return {
      currentUrl,
    };
  },
});
</script>